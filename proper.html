<head>
  <title>proper</title>
</head>

<body>
  {{> page}}
</body>

<template name="page">
  <div class="container">
    {{> directionsForm}}

    <hr />

    {{> questions}}

    <hr />
    <button>Update Foursquare destinations</button>
  </div>
</template>

<template name="directionsForm">
  <h1>Directions</h1>
  <div class="row">
    <div class="col-sm-6">
      {{#if selectedFrom}}
        {{selectedFrom.name}}
        <button class="cancel-selection" data-type="from">X</button>
      {{else}}
        <label>From</label>
        <input class="form-control" name="from" type="text" />

        <ul class="list-group">
          {{#each fromLandmarks}}
            <li class="list-group-item" data-id="{{_id}}" data-type="from">{{name}}</li>
          {{else}}
            Please type more than 2 characters
          {{/each}}
        </ul>
      {{/if}}
    </div>

    <div class="col-sm-6">
      {{#if selectedTo}}
        {{selectedTo.name}}
        <button class="cancel-selection" data-type="to">X</button>
      {{else}}
        <label>To</label>
        <input class="form-control to" name="to" type="text" />

        <ul class="list-group">
          {{#each toLandmarks}}
            <li class="list-group-item" data-id="{{_id}}" data-type="to">
              {{name}}
            </li>
          {{else}}
            Please type more than 2 characters
          {{/each}}
        </ul> 
      {{/if}}
    </div>
  </div>

  {{#if question}}
    <div>Placeholder for question display</div>
  {{else}}
    <button class="btn btn-lg btn-primary post-question">Post Question</button>
  {{/if}}
</template>

<template name="questions">
  <h1>Recent Questions</h1>
  {{#each questions}}
    <div class="panel panel-default">
      
      {{#if answeringThisQuestion}}
        <div class="panel-heading">
          {{fromLandmark.name}} -> {{toLandmark.name}}
        </div>
        <div class="panel-body">
          <div>
            <textarea style="width: 100%"></textarea>
          </div>
          <button class="post-answer btn btn-sm btn-success">Post Answer</button>
          <button class="cancel-answering btn btn-sm btn-danger">Cancel</button>
        </div>
      {{else}}
        <div class="panel-body">
          {{fromLandmark.name}} -> {{toLandmark.name}}
          <button class="btn btn-xs btn-primary answer pull-right">Answer</button>
        </div>
      {{/if}}
    </div>
  {{/each}}
</template>