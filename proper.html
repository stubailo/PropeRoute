<head>
  <title>proper</title>
</head>

<body>
  {{> page}}
</body>

<template name="page">
  <div class="container">
    {{> directionsForm}}

    <hr />

    {{> questions}}

    <hr />
    <button>Update Foursquare destinations</button>
  </div>
</template>

<template name="directionsForm">
  <h1>Directions</h1>
  <div class="col-sm-6">
    {{#if selectedFrom}}
      {{selectedFrom.name}}
      <button class="cancel-selection" data-type="from">X</button>
    {{else}}
      <label>From</label>
      <input class="form-control" name="from" type="text" />

      <ul class="list-group">
        {{#each fromLandmarks}}
          <li class="list-group-item" data-id="{{_id}}" data-type="from">{{name}}</li>
        {{else}}
          Please type more than 2 characters
        {{/each}}
      </ul>
    {{/if}}
  </div>

  <div class="col-sm-6">
    {{#if selectedTo}}
      {{selectedTo.name}}
      <button class="cancel-selection" data-type="to">X</button>
    {{else}}
      <label>To</label>
      <input class="form-control to" name="to" type="text" />

      <ul class="list-group">
        {{#each toLandmarks}}
          <li class="list-group-item" data-id="{{_id}}" data-type="to">{{name}}</li>
        {{else}}
          Please type more than 2 characters
        {{/each}}
      </ul> 
    {{/if}}
  </div>

  {{#if question}}
    <div>Found a question!</div>
  {{/if}}

  <button class="btn btn-lg btn-primary post-question">Post Question</button>

</template>

<template name="questions">
  {{#each questions}}
    <div class="panel panel-default">
      <div class="panel-heading">
        {{fromLandmark.name}} -> {{toLandmark.name}}
        {{#unless answeringThisQuestion}}
          <button class="btn btn-sm btn-primary answer">Answer</button>
        {{/unless}}
      </div>
      {{#if answeringThisQuestion}}
        <div class="panel-body">
          <textarea>Hello</textarea>
          <button class="cancel-answering">Cancel</button>
        </div>
      {{/if}}
    </div>
  {{/each}}
</template>